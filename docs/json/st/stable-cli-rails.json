{"gems":{"name":"stable-cli-rails","downloads":6,"version":"0.2.0","version_created_at":"2025-12-31T06:03:13.097Z","version_downloads":0,"platform":"ruby","authors":"Danny Simfukwe","info":"# Stable CLI (macOS)\n\nStable is a CLI tool to manage local Rails applications with automatic Caddy setup on macOS, local trusted HTTPS certificates, and easy start/stop functionality.\n\n## Features\n\n- Add and remove Rails apps.\n- Automatically generate and manage local HTTPS certificates using `mkcert`.\n- Automatically update `/etc/hosts` for `.test` domains.\n- Start Rails apps with integrated Caddy reverse proxy.\n- Reload Caddy after adding/removing apps.\n- List all registered apps.\n\n## Installation\n\n### From source\n\n```bash\n# Clone the repository\ngit clone git@github.com:dannysimfukwe/stable-rails.git\ncd stable-rails\n\n# Install dependencies\nbundle install\n```\n\n### As a gem from Rubygems registry\n\n```bash\ngem install stable-cli-rails\n```\n\n### Or add it to your Gemfile\n```bash\ngem \"stable-cli-rails\" \n```\n\n## Setup\n\nInitialize Caddy home and required directories:\n\n```bash\nstable setup\n```\n\nThis will create:  \n- `~/StableCaddy/` for Caddy configuration.  \n- `~/StableCaddy/certs` for generated certificates.  \n- `~/StableCaddy/Caddyfile` for Caddy configuration.  \n\n## CLI Commands\n\n### List apps\n\n```bash\nstable list\n```\n\nLists all registered apps and their domains.\n\n### Add a Rails app\n\n```bash\nstable add /path/to/rails_app\n```\n\nThis will:  \n- Register the app.  \n- Add a `/etc/hosts` entry.  \n- Generate local trusted HTTPS certificates.  \n- Add a Caddy reverse proxy block.  \n- Reload Caddy.\n\n### Remove a Rails app\n\n```bash\nstable remove app_name\n```\n\nThis will:  \n- Remove the app from registry.  \n- Remove `/etc/hosts` entry.  \n- Remove the Caddy reverse proxy block.  \n- Reload Caddy.\n\n### Start an app\n\n```bash\nrvmsudo stable start app_name\n```\n\nStarts the Rails server on the assigned port and ensures Caddy is running with the proper reverse proxy. Rails logs can be viewed in your terminal.\n\n### Stop an app\n\n```bash\nstable stop app_name\n```\n\nStops the Rails server running on the assigned port.\n\n### Secure an app manually\n\n```bash\nrvmsudo stable secure app_name.test\n```\n\nGenerates or updates trusted local HTTPS certificates and reloads Caddy.\n\n### Reload Caddy\n\n```bash\nstable caddy reload\n```\n\nReloads Caddy configuration after changes.\n\n### Health check\n\n```bash\nstable doctor\n```\n\nChecks the environment, RVM/Ruby, Caddy, mkcert, and app readiness.\n\n### Upgrade Ruby for an app\n\n```bash\nstable upgrade-ruby myapp 3.4.4\n```\n\nUpgrades the Ruby version for a specific app, updating `.ruby-version` and ensuring gemset compatibility.\n\n### Create a new Rails app\n\n```bash\nstable new myapp [--ruby 3.4.4] [--rails 7.0.7.1] [--skip-ssl]\n```\n\nCreates a new Rails app, generates `.ruby-version`, installs Rails, adds the app to Stable, and optionally secures it with HTTPS.\n\n## Paths\n\n- Caddy home: `~/StableCaddy`  \n- Caddyfile: `~/StableCaddy/Caddyfile`  \n- Certificates: `~/StableCaddy/certs`  \n- Registered apps: `~/StableCaddy/apps.yml`  \n\n## Dependencies\n\n- Homebrew  \n- Caddy  \n- mkcert  \n- RVM (or rbenv fallback)\n\n`ensure_dependencies!` will install missing dependencies automatically.\n\n## Known Issues\n\n- Sometimes you may see:  \n```\nTCPSocket#initialize: Connection refused - connect(2) for \"127.0.0.1\" port 300.. (Errno::ECONNREFUSED)\n```\nThis usually disappears after a few seconds when Caddy reloads. If it persists, run:\n\n```bash\nrvmsudo stable secure myapp.test\n```\n\n- Some commands may need to be run consecutively for proper setup:  \n```bash\nstable setup\nrvmsudo stable add myapp\nrvmsudo stable secure myapp.test\nstable start myapp\n```\n\n- PATH warnings from RVM may appear on the first run. Make sure your shell is properly configured for RVM.\n\n## Notes\n\n- Make sure to run `stable setup` initially.  \n- Requires `sudo` to modify `/etc/hosts`.  \n- Rails apps are started on ports assigned by Stable (default 3000+).  \n- Domains are automatically suffixed with `.test`.  \n\n## License\n\nMIT License\n","licenses":["MIT"],"metadata":{},"yanked":false,"sha":"8583b0e6602764d032215d3c1ee89aeab923a2708e60087862f574e106193355","spec_sha":"32a2be32abdf000445fbe6f88422be7537f41d970794d2ccb286e9d6d19f2a57","project_uri":"https://rubygems.org/gems/stable-cli-rails","gem_uri":"https://rubygems.org/gems/stable-cli-rails-0.2.0.gem","homepage_uri":"https://github.com/dannysimfukwe/stable-rails","wiki_uri":null,"documentation_uri":"https://www.rubydoc.info/gems/stable-cli-rails/0.2.0","mailing_list_uri":null,"source_code_uri":null,"bug_tracker_uri":null,"changelog_uri":null,"funding_uri":null,"dependencies":{"development":[],"runtime":[{"name":"fileutils","requirements":">= 0"},{"name":"thor","requirements":">= 0"}]}},"vcs_name":"GitHub","ci":null,"vcs_error":"ERROR","vcs_uri":"https://github.com/dannysimfukwe/stable-rails"}