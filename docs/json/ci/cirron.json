{"gems":{"name":"cirron","downloads":754,"version":"0.3.1","version_created_at":"2024-07-09T13:54:56.278Z","version_downloads":3,"platform":"ruby","authors":"Matt Stuchlik","info":"= Cirron\n\nCirron measures a piece of Ruby code and reports back several performance counters: \nCPU instruction count, branch misses, page faults and time spent measuring. \nIt uses the Linux perf events interface or @ibireme's KPC demo[https://gist.github.com/ibireme/173517c208c7dc333ba962c1f0d67d12] on OSX.\n\nIt can also trace syscalls using +strace+, Linux only!\n\n== Prerequisites\n\n  - Linux with perf events support / Apple ARM OSX\n  - C++\n  - Ruby 3.x\n\n== Usage\n\n=== Performance Counters\n  $ sudo irb\n  irb(main):001> require 'cirron'\n  => true\n  irb(main):002* c = Cirron::collector do\n  irb(main):003*   puts \"Hello\"\n  irb(main):004> end\n  Hello\n  => Counter(time_enabled_ns: 110260, instruction_count: 15406, branch_misses: 525, page_faults: 0)\n\n=== Syscalls\n\n  $ sudo irb\n  irb> require 'cirron'\n  => true\n  irb> trace = Cirron::tracer do\n  irb>  # Your code here\n  irb>  puts \"Hello\"\n  irb> end\n  => [#<Syscall:0x00007c6c1a4b3608 @args=\"1, [{iov_base=\\\"Hello\\\", iov_len=5}, {iov_base=\\\"\\\\n\\\", iov_len=1}], 2\", @duration=\"0.000201\", @name=\"writev\", @pid=\"2261962\", @retval=\"6\", @timestamp=\"1720285300.334976\">]\n  # Save the trace for ingesting to Perfetto\n  irb> File.write(\"/tmp/trace\", Cirron::to_tef(trace))\n  => 267\n\n== Additional Information\n\nFor more detailed information, please visit the project's GitHub page: https://github.com/s7nfo/Cirron","licenses":["MIT"],"metadata":{"homepage_uri":"https://github.com/s7nfo/Cirron","source_code_uri":"https://github.com/s7nfo/Cirron"},"yanked":false,"sha":"7f03edcdaa5602ae1e2a84a43d15c1b6ff4efba5cd5355dd8302b422655e36df","spec_sha":"c4795c1b1b0d81ed3fe5677b51ec3b929b55072abeadd07d648291c90c35853f","project_uri":"https://rubygems.org/gems/cirron","gem_uri":"https://rubygems.org/gems/cirron-0.3.1.gem","homepage_uri":"https://github.com/s7nfo/Cirron","wiki_uri":null,"documentation_uri":null,"mailing_list_uri":null,"source_code_uri":"https://github.com/s7nfo/Cirron","bug_tracker_uri":null,"changelog_uri":null,"funding_uri":null,"dependencies":{"development":[],"runtime":[]}},"vcs_name":"GitHub","ci":1,"github_actions":1,"vcs_uri":"https://github.com/s7nfo/Cirron"}